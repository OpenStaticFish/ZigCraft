warning: Git tree '/home/micqdf/github/OpenStaticFish/Smooth-LOD-Transitions' is dirty
evaluation warning: `mesa.drivers` is deprecated, use `mesa` instead
evaluation warning: 'system' has been renamed to/replaced by 'stdenv.hostPlatform.system'
test-integration
+- run test 55 pass (55 total); 11 error logs
error: 'integration_test.test.smoke test: launch, generate, render, exit' logged 11 errors:
       beginMainPass: main_framebuffer is null, creating...
       [default] (err): Vulkan validation error: Validation Error: [ VUID-VkDescriptorImageInfo-imageLayout-00344 ] Object 0: handle = 0x19c65d0, type = VK_OBJECT_TYPE_COMMAND_BUFFER; Object 1: handle = 0x5581c500000000d5, type = VK_OBJECT_TYPE_IMAGE; | MessageID = 0xde55a405 | vkCmdDraw():  Cannot use VkImage 0x5581c500000000d5[] (layer=0 mip=0) with specific layout VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL that doesn't match the previous known layout VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL.
       The Vulkan spec states: imageLayout must match the actual VkImageLayout of each subresource accessible from imageView at the time this descriptor is accessed as defined by the image layout matching rules (https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#VUID-VkDescriptorImageInfo-imageLayout-00344)
       [default] (err): Vulkan validation error: Validation Error: [ VUID-vkCmdDraw-None-08114 ] Object 0: handle = 0x71a35600000000e9, type = VK_OBJECT_TYPE_DESCRIPTOR_SET; | MessageID = 0x2ba3a98e | vkCmdDraw():  Descriptor set VkDescriptorSet 0x71a35600000000e9[] Image layout specified by vkCmdBindDescriptorSets doesn't match actual image layout at time descriptor is used. See previous error callback for specific details.
       The Vulkan spec states: Descriptors in each bound descriptor set, specified via vkCmdBindDescriptorSets, must be valid as described by descriptor validity if they are statically used by the VkPipeline bound to the pipeline bind point used by this command and the bound VkPipeline was not created with VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT (https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#VUID-vkCmdDraw-None-08114)
       [default] (err): Vulkan validation error: Validation Error: [ VUID-VkDescriptorImageInfo-imageLayout-00344 ] Object 0: handle = 0x19c65d0, type = VK_OBJECT_TYPE_COMMAND_BUFFER; Object 1: handle = 0xfb4f900000000d1, type = VK_OBJECT_TYPE_IMAGE; | MessageID = 0xde55a405 | vkCmdDraw():  Cannot use VkImage 0xfb4f900000000d1[] (layer=0 mip=0) with specific layout VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL that doesn't match the previous known layout VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL.
       The Vulkan spec states: imageLayout must match the actual VkImageLayout of each subresource accessible from imageView at the time this descriptor is accessed as defined by the image layout matching rules (https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#VUID-VkDescriptorImageInfo-imageLayout-00344)
       [default] (err): Vulkan validation error: Validation Error: [ VUID-vkCmdDraw-None-08114 ] Object 0: handle = 0x67eecd00000000ea, type = VK_OBJECT_TYPE_DESCRIPTOR_SET; | MessageID = 0x2ba3a98e | vkCmdDraw():  Descriptor set VkDescriptorSet 0x67eecd00000000ea[] Image layout specified by vkCmdBindDescriptorSets doesn't match actual image layout at time descriptor is used. See previous error callback for specific details.
       The Vulkan spec states: Descriptors in each bound descriptor set, specified via vkCmdBindDescriptorSets, must be valid as described by descriptor validity if they are statically used by the VkPipeline bound to the pipeline bind point used by this command and the bound VkPipeline was not created with VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT (https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#VUID-vkCmdDraw-None-08114)
       [default] (err): Vulkan validation error: Validation Error: [ VUID-VkDescriptorImageInfo-imageLayout-00344 ] Object 0: handle = 0x19c65d0, type = VK_OBJECT_TYPE_COMMAND_BUFFER; Object 1: handle = 0xb527dd00000000cd, type = VK_OBJECT_TYPE_IMAGE; | MessageID = 0xde55a405 | vkCmdDraw():  Cannot use VkImage 0xb527dd00000000cd[] (layer=0 mip=0) with specific layout VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL that doesn't match the previous known layout VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL.
       The Vulkan spec states: imageLayout must match the actual VkImageLayout of each subresource accessible from imageView at the time this descriptor is accessed as defined by the image layout matching rules (https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#VUID-VkDescriptorImageInfo-imageLayout-00344)
       [default] (err): Vulkan validation error: Validation Error: [ VUID-vkCmdDraw-None-08114 ] Object 0: handle = 0x7675b400000000eb, type = VK_OBJECT_TYPE_DESCRIPTOR_SET; | MessageID = 0x2ba3a98e | vkCmdDraw():  Descriptor set VkDescriptorSet 0x7675b400000000eb[] Image layout specified by vkCmdBindDescriptorSets doesn't match actual image layout at time descriptor is used. See previous error callback for specific details.
       The Vulkan spec states: Descriptors in each bound descriptor set, specified via vkCmdBindDescriptorSets, must be valid as described by descriptor validity if they are statically used by the VkPipeline bound to the pipeline bind point used by this command and the bound VkPipeline was not created with VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT (https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#VUID-vkCmdDraw-None-08114)
       [default] (err): Vulkan validation error: Validation Error: [ VUID-VkDescriptorImageInfo-imageLayout-00344 ] Object 0: handle = 0x19c65d0, type = VK_OBJECT_TYPE_COMMAND_BUFFER; Object 1: handle = 0xba04b100000000c9, type = VK_OBJECT_TYPE_IMAGE; | MessageID = 0xde55a405 | vkCmdDraw():  Cannot use VkImage 0xba04b100000000c9[] (layer=0 mip=0) with specific layout VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL that doesn't match the previous known layout VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL.
       The Vulkan spec states: imageLayout must match the actual VkImageLayout of each subresource accessible from imageView at the time this descriptor is accessed as defined by the image layout matching rules (https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#VUID-VkDescriptorImageInfo-imageLayout-00344)
       [default] (err): Vulkan validation error: Validation Error: [ VUID-vkCmdDraw-None-08114 ] Object 0: handle = 0x7ac17b00000000ec, type = VK_OBJECT_TYPE_DESCRIPTOR_SET; | MessageID = 0x2ba3a98e | vkCmdDraw():  Descriptor set VkDescriptorSet 0x7ac17b00000000ec[] Image layout specified by vkCmdBindDescriptorSets doesn't match actual image layout at time descriptor is used. See previous error callback for specific details.
       The Vulkan spec states: Descriptors in each bound descriptor set, specified via vkCmdBindDescriptorSets, must be valid as described by descriptor validity if they are statically used by the VkPipeline bound to the pipeline bind point used by this command and the bound VkPipeline was not created with VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT (https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#VUID-vkCmdDraw-None-08114)
       [default] (err): Vulkan validation error: Validation Error: [ VUID-VkDescriptorImageInfo-imageLayout-00344 ] Object 0: handle = 0x19c65d0, type = VK_OBJECT_TYPE_COMMAND_BUFFER; Object 1: handle = 0x5c59a0000000056, type = VK_OBJECT_TYPE_IMAGE; | MessageID = 0xde55a405 | vkCmdDraw():  Cannot use VkImage 0x5c59a0000000056[] (layer=0 mip=0) with specific layout VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL that doesn't match the previous known layout VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL.
       The Vulkan spec states: imageLayout must match the actual VkImageLayout of each subresource accessible from imageView at the time this descriptor is accessed as defined by the image layout matching rules (https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#VUID-VkDescriptorImageInfo-imageLayout-00344)
       [default] (err): Vulkan validation error: Validation Error: [ VUID-vkCmdDraw-None-08114 ] Object 0: handle = 0xfbbae800000000a2, type = VK_OBJECT_TYPE_DESCRIPTOR_SET; | MessageID = 0x2ba3a98e | vkCmdDraw():  Descriptor set VkDescriptorSet 0xfbbae800000000a2[] Image layout specified by vkCmdBindDescriptorSets doesn't match actual image layout at time descriptor is used. See previous error callback for specific details.
       The Vulkan spec states: Descriptors in each bound descriptor set, specified via vkCmdBindDescriptorSets, must be valid as described by descriptor validity if they are statically used by the VkPipeline bound to the pipeline bind point used by this command and the bound VkPipeline was not created with VK_PIPELINE_CREATE_DESCRIPTOR_BUFFER_BIT_EXT (https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#VUID-vkCmdDraw-None-08114)
       [default] (err): Vulkan validation error: Validation Error: [ UNASSIGNED-CoreValidation-DrawState-InvalidImageLayout ] Object 0: handle = 0x199c880, type = VK_OBJECT_TYPE_COMMAND_BUFFER; Object 1: handle = 0x5c59a0000000056, type = VK_OBJECT_TYPE_IMAGE; | MessageID = 0x4dae5635 | vkQueueSubmit(): pSubmits[0].pCommandBuffers[1] command buffer VkCommandBuffer 0x199c880[] expects VkImage 0x5c59a0000000056[] (subresource: aspectMask VK_IMAGE_ASPECT_COLOR_BIT array layer 0, mip level 0) to be in layout VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL--instead, current layout is VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL.
       recreateSwapchainInternal: starting...
       recreateSwapchainInternal: destroying old resources...
       recreateSwapchainInternal: swapchain.recreate()...
       recreateSwapchainInternal: recreating resources...
       recreateSwapchainInternal: done.
       beginMainPass: main_framebuffer is null, creating...
       WARNING: Integration test finished with 11 validation errors (ignored for now)
failed command: ./.zig-cache/o/8a224f15b90b4db67e2e9708cca02ceb/test --cache-dir=./.zig-cache --seed=0x85ddc75b --listen=-

Build Summary: 3/5 steps succeeded (1 failed); 55/55 tests passed
test-integration transitive failure
+- run test 55 pass (55 total); 11 error logs

error: the following build command failed with exit code 1:
.zig-cache/o/2af6640b45f38760463d120cd46eaa9d/build /nix/store/gmzxlvmc4x68wmgdc1hm0jql0q297d3s-zig-0.16.0-dev.1364+f0a3df98d/bin/zig /nix/store/gmzxlvmc4x68wmgdc1hm0jql0q297d3s-zig-0.16.0-dev.1364+f0a3df98d/lib /home/micqdf/github/OpenStaticFish/Smooth-LOD-Transitions .zig-cache /home/micqdf/.cache/zig --seed 0x85ddc75b -Z8e4f5d00d4251f83 test-integration
